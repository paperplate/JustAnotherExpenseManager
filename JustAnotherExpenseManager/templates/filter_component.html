<!-- Enhanced Reusable Filter Component -->
<div class="filter-section" data-target-url="{{ target_url }}" data-target-element="{{ target_element }}">
    <div class="filter-group">
        <label for="time-range">Time Range:</label>
        <select id="time-range" onchange="filterByTimeRange(this.value)">
            <option value="">All Time</option>
            <option value="current_month">Current Month</option>
            <option value="3_months">Last 3 Months</option>
            <option value="6_months" {% if default_range == '6_months' %}selected{% endif %}>Last 6 Months</option>
            <option value="1_year">Last Year</option>
            <option value="custom">Custom Range...</option>
        </select>
    </div>

    <div class="filter-group">
        <label>Filter by Categories:</label>
        <details id="category-details" class="filter-details">
            <summary id="category-summary">All Categories</summary>
            <fieldset>
                <legend>Categories</legend>
                <ul>
                    <li class="filter-option selected" data-value="" onclick="selectCategory(this)">
                        All Categories
                    </li>
                </ul>
                <ul id="category-options-list">
                    <!-- Categories loaded dynamically -->
                </ul>
            </fieldset>
        </details>
    </div>

    <div class="filter-group">
        <label>Filter by Tags:</label>
        <details id="tag-details" class="filter-details">
            <summary id="tag-summary">All Tags</summary>
            <fieldset>
                <legend>Tags</legend>
                <ul>
                    <li class="filter-option selected" data-value="" onclick="selectTag(this)">
                        All Tags
                    </li>
                </ul>
                <ul id="tag-options-list">
                    <!-- Tags loaded dynamically -->
                </ul>
            </fieldset>
        </details>
    </div>
</div>

<!-- Custom date range picker (hidden by default) -->
<div id="custom-range-picker" style="display: none;">
    <div>
        <div>
            <label for="start-date">Start Date:</label>
            <input type="date" id="start-date">
        </div>
        <div>
            <label for="end-date">End Date:</label>
            <input type="date" id="end-date">
        </div>
        <button class="btn" onclick="applyCustomRange()">Apply</button>
    </div>
</div>
